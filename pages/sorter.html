---
layout: default
category: archive
title: 乃木坂46 Sorter
---

<style>

  .tag-grid {
    justify-content: center;
    grid-template-columns: auto auto;
  }

  .button1 {
    margin-right: 10px;
  }

  .button2 {
    margin-left: 10px;
  }

  .button1, .tag-grid button {
    display: block;
    width: 200px;
    height: auto;
    margin: 20px auto;
    color: black;
    font-family: "MS PGothic", "Courier", "Lucida Console", "Menlo Regular", "IBM Plex Mono", "Fira Code", "Fira Mono","Roboto Mono","Droid Sans Mono", Monaco, Consolas, Courier, monospace;;
    text-align: center;
    padding: 15px;
    transition-duration: 0.4s;
    overflow: hidden;
    border-color: blue;
    border-style: solid;
    border-width: thin;
    background-color: white;
    cursor: pointer;
  }
  
  .button1:hover, .tag-grid button:hover {
    border-style: 1px thin purple;
  }
  
  .names {
    clear: both;
    margin-top: 3em;
    margin-bottom: 1rem;
    color: black;
    margin-left: 30px;
  }
  
  </style>

<div class="leftcolumn">
  {% include profile-card.html %}
</div>

<div class="midcolumn">
<div class="index-card">
<br>
<div class="side-card">
</div>
<br>
<div class="tag-grid">
  <button id="start" onclick="startSorting()">Start Sorting</button>
  <button id="button1" onclick="choose(1)">Loading...</button>
  <button id="button2" onclick="choose(2)">Loading...</button>
  <button id="retry" style="display: none;" onclick="initialize()">Try Again</button>
</div>

<div id="names"></div>

{% include license.html %}

<script>
  var names = ["ITO RIRIA", "IWAMOTO RENKA", "UMEZAWA MINAMI", "KUBO SHIORI", "SAKAGUCHI TAMAMI",
  "SATO KAEDE", "NAKAMURA RENO", "MUKAI HAZUKI", "YAMASHITA MIZUKI", "YOSHIDA AYANO CHRISTIE",
  "YODA YUKI", "ENDO SAKURA", "KAKI HARUKA", "KANAGAWA SAYA", "KUROMI HARUKA",
  "SATO RIKA", "SHIBATA YUNA", "SEIMIYA REI", "KAKEHASHI SAYAKA", "TAMURA MAYU",
  "TSUTSUI AYAME", "HAYAKAWA SEIRA", "HAYASHI RUNA", "MATSUO MIYU", "YAKUBO MIO",
  "YUMIKI NAO", "IOKI MAO", "IKEDA TERESA", "ICHINOSE MIYU", "INOUE NAGI",
  "OGAWA AYA", "OKUDA IROHA", "KAWASAKI SAKURA", "SUGAWARA SATSUKI", "TOMISATO NAO",
  "NAKANISHI ARUNO", "OKAMOTO HINA"];

  var stack = [];
  var i, j, k, L, R, right;

  function startSorting() {
    document.getElementById('start').style.display = "none";
    stack.push(() => mergeSort(names, 0, names.length - 1));
    processStack();
  }

  function processStack() {
    if (stack.length === 0) {
        finishSorting();
        return;
    }
    var action = stack.pop();
    action();
  }

  function finishSorting() {
    var result = names.map((name, index) => {
        var rank = index + 1;
        if (rank === 1) {
            return `<span style="color:blue;">${rank}. ${name}</span>`;
        } else if (rank === 2) {
            return `<span style="color:red;">${rank}. ${name}</span>`;
        } else if (rank === 3) {
            return `<span style="color:gold;">${rank}. ${name}</span>`;
        } else {
            return `${rank}. ${name}`;
        }
    }).join("<br>");
    document.getElementById('names').innerHTML = result;
    document.getElementById('retry').style.display = "block";
}

  function mergeSort(arr, left, right) {
    if (left < right) {
      var mid = left + Math.floor((right - left) / 2);
      stack.push(() => merge(arr, left, mid, right));
      stack.push(() => mergeSort(arr, left, mid));
      stack.push(() => mergeSort(arr, mid + 1, right));
    }
    processStack();
  }

  function merge(arr, left, mid, right) {
    i = 0;
    j = 0;
    k = left;
    right = right;
    
    var n1 = mid - left + 1;
    var n2 = right - mid;

    L = new Array(n1);
    R = new Array(n2);

    for (i = 0; i < n1; i++)
      L[i] = arr[left + i];
    for (j = 0; j < n2; j++)
      R[j] = arr[mid + 1 + j];

    i = 0;
    j = 0;
    
    stack.push(proceed);
    processStack();
  }

  function proceed() {
    if (i < L.length && j < R.length) {
        document.getElementById('button1').style.display = "block";
        document.getElementById('button1').textContent = L[i];
        document.getElementById('button2').style.display = "block";
        document.getElementById('button2').textContent = R[j];
    } else {
        if (i < L.length)
            names[k++] = L[i++];
        else
            names[k++] = R[j++];
        
        if (k <= right)
            proceed();
        else
            processStack();
    }
  }

  function choose(index) {
    if (index === 1) {
        names[k] = document.getElementById('button1').textContent;
        i++;
    } else {
        names[k] = document.getElementById('button2').textContent;
        j++;
    }
    k++;
    document.getElementById('button1').style.display = "none";
    document.getElementById('button2').style.display = "none";
    if (k <= right)
        stack.push(proceed);
    processStack();
  }

  function initialize() {
    document.getElementById('start').style.display = "block";
    document.getElementById('button1').style.display = "none";
    document.getElementById('button2').style.display = "none";
    document.getElementById('retry').style.display = "none";
    document.getElementById('names').innerHTML = "";
    stack = [];
  }

  initialize();
</script>

